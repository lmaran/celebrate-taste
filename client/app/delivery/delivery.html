<div ng-include="'app/navbar/navbar.html'"></div>

<ol class="breadcrumb">
    <li>
        <button ng-click="goBack();" type="button" class="btn btn-default btn-xs" style="margin-right:15px">
            <span class="glyphicon glyphicon-arrow-left" ></span> Inapoi
        </button>
        <a href="/admin"><span class="glyphicon glyphicon-home"></span></a>
    </li>
    <li><a href="/admin/deliveries">Livrari</a></li>
    <li class="active">Livrare: {{dateAsShortString}} / {{delivery.eatSeries}}</li>
</ol>

<div class="container-fluid">
    <h1>{{pageTitle}}: {{dateAsShortString}} / {{delivery.eatSeries}}</h1>

    <uib-tabset>
        <!--tab 1-->
        <uib-tab select="alertMe()">
            <uib-tab-heading>
                <i class="glyphicon glyphicon-credit-card"></i> Livreaza cu cardul
            </uib-tab-heading>

            <div class="row top-margin-15">     
                <div class="col-md-12">
                    I've got an HTML heading, and a select callback. Pretty cool!
       
                </div> 
            </div> 
        </uib-tab>                
        
        <!--tab 2-->
        <uib-tab select="selectStatus('open')">
            <uib-tab-heading>
                <i class="glyphicon glyphicon-eye-open"></i> Livreaza manual
            </uib-tab-heading>

            <div class="row top-margin-15">     
                <div class="col-md-12">
                    <form class="form-inline">
                        <div class="form-group pull-right">                   
                            <div class="input-group">
                                <span style="padding-right:10px;" class="input-group-btn">
                                    <button type="button" class="btn btn-default" ng-click="refresh()" style="border-radius:4px; background-color:lightgray"><span class="glyphicon glyphicon-refresh"></span></button>
                                </span>
                                <input style="border-top-left-radius:4px; border-bottom-left-radius:4px" ng-model="search" type="text" class="form-control" placeholder="Cauta...">
                                <span class="input-group-btn"><button class="btn btn-primary" type="button"><span class="glyphicon glyphicon-search"></span></button></span>
                            </div>
                        </div>
                    </form>       
                </div> 
            </div>    


            <div class="table-responsive">
                <table class="table table-responsive table-hover table-condensed">
                    <thead>
                        <tr>                   
                            <th>Angajat</th>
                            <th>Preferinte</th>
                            <th>Stare</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr data-ng-repeat="orderLine in orderLines 
                                | filter: statusFilter                        
                                | filter: search 
                                as results">                  
                            <td>
                                <a href ng-click="openDeliveryLine(orderLine)">{{orderLine.employeeName}}</a>
                                <span ng-if="!orderLine.badgeCode" style="color:red"> - lipsa card </span>
                            </td>                     
                            <td>
                                <span ng-style="orderLine.fromOwnerOpt1 && {'background-color':'lightgreen'}">{{orderLine.option1 || '-'}}</span> / 
                                <span ng-style="orderLine.fromOwnerOpt2 && {'background-color':'lightgreen'}">{{orderLine.option2 || '-'}}</span>
                            </td>                
                            <td>{{orderLine.status}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <span class="label label-default" style="font-size:100%; font-weight:normal">Total:</span> {{results.length}} / {{orderLines.length}}
        </uib-tab>
        
        <!--tab 3-->        
        <uib-tab select="selectStatus('completed')">
            <uib-tab-heading>
                <i class="glyphicon glyphicon-ok"></i> Livrate
            </uib-tab-heading>
                        
            <div class="row top-margin-15">     
                <div class="col-md-12">
                    <form class="form-inline">
                        <div class="form-group pull-right">                   
                            <div class="input-group">
                                <span style="padding-right:10px;" class="input-group-btn">
                                    <button type="button" class="btn btn-default" ng-click="refresh()" style="border-radius:4px; background-color:lightgray"><span class="glyphicon glyphicon-refresh"></span></button>
                                </span>
                                <input style="border-top-left-radius:4px; border-bottom-left-radius:4px" ng-model="search" type="text" class="form-control" placeholder="Cauta...">
                                <span class="input-group-btn"><button class="btn btn-primary" type="button"><span class="glyphicon glyphicon-search"></span></button></span>
                            </div>
                        </div>
                    </form>       
                </div> 
            </div>    


            <div class="table-responsive">
                <table class="table table-responsive table-hover table-condensed">
                    <thead>
                        <tr>                   
                            <th>Angajat</th>
                            <th>Preferinte</th>
                            <th>Stare</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr data-ng-repeat="orderLine in orderLines 
                                | filter: statusFilter                        
                                | filter: search 
                                as results">                  
                            <td>
                                <a href ng-click="openDeliveryLine(orderLine)">{{orderLine.employeeName}}</a>
                                <span ng-if="!orderLine.badgeCode" style="color:red"> - lipsa card </span>
                            </td>                     
                            <td>
                                <span ng-style="orderLine.fromOwnerOpt1 && {'background-color':'lightgreen'}">{{orderLine.option1 || '-'}}</span> / 
                                <span ng-style="orderLine.fromOwnerOpt2 && {'background-color':'lightgreen'}">{{orderLine.option2 || '-'}}</span>
                            </td>                
                            <td>{{orderLine.status}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <span class="label label-default" style="font-size:100%; font-weight:normal">Total:</span> {{results.length}} / {{orderLines.length}}

        </uib-tab>                
    </uib-tabset>

</div>    